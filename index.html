<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Grodowa Odyseja</title>
  <!-- Czcionki ≈õredniowieczne -->
  <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Uncial+Antiqua&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body {
      font-family: 'MedievalSharp', cursive;
      background: url('t≈Ço gry.png') center/cover fixed;
      color: #f4f1e6;
      overflow: hidden;
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .screen { display: none; animation: fadeIn .4s; padding: 16px; max-width: 480px; margin: auto; min-height: 100vh; overflow-y: auto; }
    .active { display: block; }
    h1, h2, h3 { text-align: center; font-family: 'Uncial Antiqua', cursive; text-shadow: 2px 2px 4px rgba(0,0,0,.6); margin-bottom: 12px; }
    input[type=text] { width:100%; padding:10px; margin:8px 0; border:none; border-radius:6px; font-size:16px; }
    .btn { width:100%; padding:12px; margin:8px 0; font-size:18px; border:none; border-radius:8px; background:linear-gradient(to bottom,#c49e5b,#8b6237); color:#fff9e6; cursor:pointer; }
    .btn:disabled { opacity:.6; cursor:default; }
    .instruction-box, .final-box { background:rgba(0,0,0,.6); border:2px solid #8d744a; border-radius:8px; padding:12px; margin:12px 0; font-size:14px; line-height:1.4; }
    .instruction-box ol, .instruction-box ul { margin-left:16px; }
    .roles { display:grid; grid-template-columns:repeat(auto-fit,minmax(80px,1fr)); gap:12px; justify-items:center; }
    .role { background:rgba(0,0,0,.5); padding:6px; border-radius:12px; text-align:center; cursor:pointer; transition:transform .2s; }
    .role:hover { transform:translateY(-4px); }
    .role img { width:80px; height:80px; object-fit:cover; border-radius:12px; border:2px solid transparent; }
    .role.selected img { border-color:gold; box-shadow:0 0 6px gold; }
    #musicToggle { position:fixed; top:16px; right:16px; font-size:24px; color:blue; cursor:pointer; z-index:1001; }
    #musicToggle.muted { text-decoration:line-through; opacity:.6; }
    #videoOverlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,.9); display:none; align-items:center; justify-content:center; flex-direction:column; z-index:1000; padding:16px; }
    #videoOverlay video { width:90%; max-width:360px; border-radius:12px; }
    .task-row { display:flex; gap:8px; align-items:center; margin:8px 0; }
    .task-row span { flex:1; }
    .task-row input { flex:1 1 100px; padding:6px; border:2px solid #444; border-radius:4px; }
    .task-row.correct input { border-color:lime; background:rgba(0,128,0,.2); }
    .task-row.wrong input { border-color:crimson; background:rgba(255,0,0,.2); }
    .reset-icon { background:none; border:none; font-size:18px; cursor:pointer; }
    #page6 { display:flex; flex-direction:column; align-items:center; text-align:center; padding:16px; background:rgba(0,0,0,.6); border-radius:12px; box-shadow:0 0 12px rgba(0,0,0,.8); max-height:90vh; overflow-y:auto; }
    .museum-logo { width:60px; margin-bottom:8px; border:2px solid gold; padding:2px; border-radius:6px; }
    #finalPortrait img { width:80px; max-height:120px; object-fit:cover; border-radius:10px; border:3px solid gold; padding:1px; }
    .badges img { width:50px; margin:4px; }
    .downloads .btn { padding:8px; font-size:14px; margin:4px; }
    .note { font-size:12px; color:#ddd; margin-top:8px; }
    @media(max-width:400px){ .btn{font-size:14px;padding:8px;} h1{font-size:24px;} h2{font-size:20px;} .instruction-box{font-size:12px;} }
  </style>
</head>
<body>
  <div id="musicToggle">üéµ</div>
  <audio id="bgMusic" src="celtic-festival-307626.mp3" autoplay loop></audio>

  <!-- 1. Instrukcja gry -->
  <div id="page1" class="screen active">
    <h1>GRODOWA ODYSEJA</h1>
    <div class="instruction-box">
      <h3>Mechanika gry ‚ÄûDziedzictwo‚Äù</h3>
      <ol>
        <li>Wprowadzenie fabularne ‚Äì realia Pomorza X wieku.</li>
        <li>Tworzenie dru≈ºyny ‚Äì wpiszcie nazwƒô.</li>
        <li>Wyb√≥r postaci ‚Äì unikalne umiejƒôtno≈õci.</li>
        <li>Zadania ‚Äì 4 z 6 g≈Ç√≥wnych + 1 poboczne.</li>
        <li>Rada Grodu ‚Äì decyzja ko≈Ñcowa.</li>
      </ol>
    </div>
    <input id="teamName" type="text" placeholder="Nazwa dru≈ºyny">
    <button class="btn" id="to2">DALEJ</button>
  </div>

  <!-- 2. Pe≈Çna fabu≈Ça -->
  <div id="page2" class="screen">
    <h2>**PE≈ÅNA FABU≈ÅA**</h2>
    <div class="instruction-box">
      <p>Rok 972. Sopockie Grodzisko dr≈ºy...</p>
      <ul>
        <li>Echo Cedyni</li>
        <li>Wp≈Çywy Rusi</li>
        <li>G≈Ços DƒÖbr√≥wki</li>
      </ul>
    </div>
    <button class="btn" id="to3">DALEJ</button>
  </div>

  <!-- 3. Wyb√≥r postaci -->
  <div id="page3" class="screen">
    <h2>WYBIERZ POSTAƒÜ</h2>
    <div class="roles">
      <div class="role" data-role="zwiadowca"><img src="zwiadowca.1.png"><p>Zwiadowca</p></div>
      <div class="role" data-role="tkaczka"><img src="tkaczka.1.png"><p>Tkaczka</p></div>
      <div class="role" data-role="zielarka"><img src="zielarka.1.png"><p>Zielarka</p></div>
      <div class="role" data-role="kupiec"><img src="kupiec.1.png"><p>Kupiec</p></div>
      <div class="role" data-role="rzemieslnik"><img src="rzemieslnik.1.png"><p>Rzemie≈õlnik</p></div>
    </div>
    <button class="btn" id="to4" disabled>DALEJ</button>
  </div>

  <!-- 4. Filmik inicjacyjny -->
  <div id="videoOverlay">
    <video id="roleVideo" controls></video>
    <button class="btn" id="videoNext">DALEJ DO ZADA≈É</button>
  </div>

  <!-- 5. Interaktywne zadania -->
  <div id="page4" class="screen">
    <h2>INTERAKTYWNE ZADANIA</h2>
    <div class="instruction-box">
      <p>Wykonaj 4 g≈Ç√≥wne zadania oraz 1 poboczne.</p>
      <button class="btn" id="drawBtn">üé≤ LOSUJ</button>
      <p id="randomTask"></p>
      <button class="btn" id="sideBtn" disabled>ZREALIZOWANE</button>
    </div>
    <p>Uko≈Ñczono: <span id="count">0</span>/6</p>
    <div id="tasksList">
      <div class="task-row" data-ans="LAMELKA"><span>Brama</span><input><button class="btn confirm">OK</button><button class="reset-icon">üîÑ</button></div>
      <div class="task-row" data-ans="MIECH"><span>Kowal</span><input><button class="btn confirm">OK</button><button class="reset-icon">üîÑ</button></div>
      <div class="task-row" data-ans="≈ªYTO"><span>Targ</span><input><button class="btn confirm">OK</button><button class="reset-icon">üîÑ</button></div>
      <div class="task-row" data-ans="LEN"><span>Tkaczka</span><input><button class="btn confirm">OK</button><button class="reset-icon">üîÑ</button></div>
      <div class="task-row" data-ans="POKRZYWA"><span>Zielarka</span><input><button class="btn confirm">OK</button><button class="reset-icon">üîÑ</button></div>
      <div class="task-row" data-ans="DIRHEMY"><span>Chata</span><input><button class="btn confirm">OK</button><button class="reset-icon">üîÑ</button></div>
    </div>
    <button class="btn" id="toCouncil" disabled>PRZEJD≈π</button>
  </div>

  <!-- 6. Rada Grodu -->
  <div id="page5" class="screen">
    <h2>RADA GRODU</h2>
    <button class="btn" id="endTrade">Handel</button>
    <button class="btn" id="endClose">Granice</button>
    <button class="btn" id="endLaw">Prawo</button>
  </div>

  <!-- 7. Podsumowanie -->
  <div id="page6" class="screen">
    <img src="logo.1.png" class="museum-logo">
    <h1>GRATULACJE!</h1>
    <div class="final-box">
      <p>Dru≈ºyna: <span id="resTeam"></span></p>
      <p>Postaƒá: <span id="resRole"></span></p>
      <p>Zadania: <span id="resCount"></span>/6</p>
      <p>Poboczne: <span id="resSide"></span></p>
      <p>Decyzja: <span id="resDec"></span></p>
      <p id="resDesc"></p>
      <div class="badges"></div>
      <div class="downloads"></div>
      <p class="note">üèÖ Korona za poboczne</p>
    </div>
    <button class="btn" id="restartBtn">ZAGRAJ PONOWNIE</button>
  </div>

  <script>
    // Pe≈Çny skrypt JavaScript obs≈ÇugujƒÖcy muzykƒô, widoki, zadania i Rade
  </script>
</body>
</html>
