
<!DOCTYPE html><html lang="pl"><head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dziedzictwo Żelaza</title>
  <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet" />
  <style>
    body {
      margin: 0;
      font-family: 'MedievalSharp', cursive;
      background: url('tło.png') center center / cover no-repeat fixed;
      background-color: #1d1b16;
      color: #f4f1e6;
      text-align: center;
    }.screen {
  animation: fadeIn 0.6s ease-out;
  display: none;
  padding: 20px;
  background-color: rgba(35, 32, 28, 0.88);
  min-height: 100vh;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  border-radius: 12px;
  margin: 20px auto;
  max-width: 800px;
}

.active {
  display: block;
}

.btn {
  background: linear-gradient(to bottom, #a07d52, #5e4226);
  color: #fff9e6;
  padding: 12px 28px;
  border: none;
  border-radius: 10px;
  margin: 15px auto;
  cursor: pointer;
  font-size: 17px;
  display: inline-block;
  box-shadow: 3px 3px 12px rgba(0, 0, 0, 0.5);
  transition: transform 0.2s;
}

.btn:hover {
  transform: scale(1.05);
}

.instruction-box {
  background-color: rgba(255, 248, 230, 0.08);
  border: 2px solid #8d744a;
  border-radius: 12px;
  padding: 20px;
  max-width: 700px;
  margin: 20px auto;
}

.roleIcon {
  width: 100px;
  height: auto;
  border-radius: 50%;
  margin: 10px;
}

input[type="text"].answer-input {
  padding: 10px;
  font-size: 16px;
  border-radius: 8px;
  border: none;
  width: 250px;
  margin-top: 10px;
}

.quiz-question {
  margin-bottom: 20px;
}

.quiz-option {
  margin: 8px 0;
  cursor: pointer;
  padding: 8px;
  border-radius: 8px;
  background-color: rgba(255, 255, 255, 0.1);
}

.correct {
  background-color: green !important;
}

.incorrect {
  background-color: darkred !important;
}

.ending-desc {
  margin-top: 20px;
  padding: 10px;
  font-style: italic;
}

  </style>
</head><body>
  <audio id="bgMusic" src="celtic-festival-307626.mp3" autoplay loop></audio>  <div class="screen active" id="start">
    <h1>Dziedzictwo Żelaza</h1>
    <div class="instruction-box">
      <h2>Rok 972</h2>
      <p>Mówi się, że to będzie ostatni spokojny rok...</p>
    </div>
    <input type="text" id="teamName" placeholder="Wpisz nazwę drużyny"
      style="padding:10px; font-size:16px; border-radius:8px; border:none; width:250px;" />
    <button type="button" class="btn" onclick="startGame()">Rozpocznij grę</button>
  </div>  <div class="screen" id="selectRole">
    <h2>Wybierz swoją postać:</h2>
    <div>
      <!-- Postacie z opisami -->
    </div>
    <button type="button" class="btn" onclick="showScreen('taskSelection')">Dalej</button>
  </div>  <div class="screen" id="taskSelection">
    <h2>Zadania</h2>
    <p>Wpisz słowo-klucz znalezione na terenie grodu:</p>
    <input type="text" id="keywordInput" class="answer-input" placeholder="Wpisz słowo" />
    <button type="button" class="btn" onclick="submitKeyword()">Zatwierdź</button>
    <div id="keywordFeedback" style="margin-top:10px;"></div>
    <button type="button" class="btn" onclick="showScreen('quiz')">Przejdź do Quizu</button>
  </div>  <div class="screen" id="quiz">
    <h2>Quiz</h2>
    <div class="quiz-question" id="questionBox"></div>
    <div id="answersBox"></div>
  </div>  <div class="screen" id="council">
    <h2>Rada Grodu</h2>
    <p>Wybierz decyzję dla przyszłości grodu:</p>
    <button class="btn" onclick="finishCouncil('Otwarcie na handel')">Otwarcie na handel</button>
    <button class="btn" onclick="finishCouncil('Izolacja granic')">Izolacja granic</button>
    <button class="btn" onclick="finishCouncil('Adaptacja prawa')">Adaptacja prawa</button>
  </div>  <div class="screen" id="certificate">
    <h2>Certyfikat</h2>
    <p>Drużyna: <strong id="certTeam"></strong></p>
    <p>Postać: <strong id="certRole"></strong></p>
    <p>Decyzja: <strong id="certDecision"></strong></p>
    <p>Zdobyte punkty: <strong id="certPoints"></strong></p>
    <img src="certyfikat1.png" alt="Certyfikat" style="max-width:100%; border-radius:12px; margin-top:20px;" />
    <div id="endingText" class="ending-desc"></div>
    <button type="button" class="btn" onclick="restartGame()">Zagraj ponownie</button>
  </div>  <script>
    let teamName = "";
    let selectedRole = "";
    let currentQuestion = 0;
    let quizPoints = 0;

    const questions = [
      {
        q: "Kiedy odbyła się bitwa pod Cedynią?",
        options: [
          { text: "972 r.", correct: true },
          { text: "966 r.", correct: false },
          { text: "1000 r.", correct: false },
          { text: "950 r.", correct: false }
        ]
      },
      {
        q: "Kim był Czcibor?",
        options: [
          { text: "Bratem Mieszka I", correct: true },
          { text: "Margrabią Niemiec", correct: false },
          { text: "Kapłanem z Rusów", correct: false },
          { text: "Kupcem z Bizancjum", correct: false }
        ]
      }
    ];

    const endings = {
      "Otwarcie na handel": "Grodzisko otwiera się na świat. Przychodzą kupcy, idee i nowe sojusze. Zaczyna się era zmian i nadziei.",
      "Izolacja granic": "Granice Grodu zostają zamknięte. Przodkowie zostają uszanowani, ale ceną jest samotność i zapomnienie.",
      "Adaptacja prawa": "Grodzisko przyjmuje nowe prawa, łącząc tradycję z nowym porządkiem. Przetrwa, ale nie bez bólu przekształcenia."
    };

    function startGame() {
      teamName = document.getElementById("teamName").value.trim();
      if (!teamName) {
        alert("Proszę wprowadzić nazwę drużyny.");
        return;
      }
      showScreen('selectRole');
    }

    function selectRole(role) {
      selectedRole = role;
      alert(`Wybrano postać: ${role}`);
    }

    function showScreen(id) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      if (id === 'quiz') loadQuiz();
    }

    function submitKeyword() {
      const input = document.getElementById("keywordInput").value.trim().toLowerCase();
      const feedback = document.getElementById("keywordFeedback");
      if (input === "żelazo" || input === "zelazo") {
        feedback.innerHTML = "<span style='color:lightgreen'>Poprawna odpowiedź!</span>";
      } else {
        feedback.innerHTML = "<span style='color:salmon'>Spróbuj ponownie.</span>";
      }
    }

    function loadQuiz() {
      if (currentQuestion >= questions.length) {
        showScreen('council');
        return;
      }

      const q = questions[currentQuestion];
      document.getElementById('questionBox').innerText = q.q;
      const answersBox = document.getElementById('answersBox');
      answersBox.innerHTML = '';

      q.options.forEach((opt) => {
        const div = document.createElement('div');
        div.className = 'quiz-option';
        div.innerText = opt.text;
        div.onclick = () => {
          if (opt.correct) {
            div.classList.add('correct');
            quizPoints++;
          } else {
            div.classList.add('incorrect');
          }
          setTimeout(() => {
            currentQuestion++;
            loadQuiz();
          }, 800);
        };
        answersBox.appendChild(div);
      });
    }

    function finishCouncil(decision) {
      document.getElementById('certTeam').innerText = teamName;
      document.getElementById('certRole').innerText = selectedRole;
      document.getElementById('certDecision').innerText = decision;
      document.getElementById('certPoints').innerText = quizPoints;
      document.getElementById('endingText').innerText = endings[decision];
      showScreen('certificate');
    }

    function restartGame() {
      teamName = "";
      selectedRole = "";
      currentQuestion = 0;
      quizPoints = 0;
      showScreen('start');
    }
  </script></body></html>
