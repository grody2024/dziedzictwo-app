<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
  <title>Grodowa Odyseja</title>
  <!-- Czcionki stylizujÄ…ce na Å›redniowieczne pismo -->
  <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Uncial+Antiqua&display=swap" rel="stylesheet">
  <style>
    /* --- Reset + podstawy --- */
    * { box-sizing:border-box; margin:0; padding:0; }
    html, body { height:100%; }
    body {
      font-family:'MedievalSharp',cursive;
      background:url('tÅ‚o gry.png') center/cover fixed;
      color:#f4f1e6;
      overflow:hidden;
    }

    @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }

    .screen {
      display:none;
      animation:fadeIn .4s;
      padding:16px;
      max-width:480px;
      margin:auto;
      height:100vh;
      overflow-y:auto;
    }
    .active { display:block; }

    h1, h2, h3 {
      text-align:center;
      font-family:'Uncial Antiqua',cursive;
      text-shadow:2px 2px 4px rgba(0,0,0,.6);
      margin-bottom:12px;
    }

    input[type=text] {
      width:100%; padding:10px; margin:8px 0;
      border:none; border-radius:6px; font-size:16px;
    }

    .btn {
      width:100%; padding:12px; margin:8px 0;
      font-size:18px; border:none; border-radius:8px;
      background:linear-gradient(to bottom,#c49e5b,#8b6237);
      color:#fff9e6; cursor:pointer;
    }
    .btn:disabled { opacity:.6; cursor:default; }

    .instruction-box, .final-box {
      background:rgba(0,0,0,.6);
      border:2px solid #8d744a; border-radius:8px;
      padding:12px; margin:12px 0; font-size:14px;
      line-height:1.4;
    }
    .instruction-box ul { list-style:disc inside; margin-left:16px; }

    /* Role grid */
    .roles {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(100px,1fr));
      gap:16px; justify-items:center;
    }
    .role {
      background:rgba(0,0,0,.5); padding:8px;
      border-radius:12px; text-align:center;
      cursor:pointer; transition:transform .2s;
    }
    .role img {
      width:100px; height:100px; object-fit:cover;
      object-position:top center; border-radius:12px;
      border:3px solid transparent;
    }
    .role.selected img {
      border-color:gold; box-shadow:0 0 8px gold;
    }

    /* Video overlay for intro */
    #videoOverlay {
      position:fixed; top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,.9);
      display:none; align-items:center; justify-content:center;
      flex-direction:column; z-index:1000; padding:16px;
    }
    #videoOverlay video {
      width:90%; max-width:480px; border-radius:12px;
    }

    /* Tasks screen */
    .task-row {
      display:flex; gap:8px; align-items:center;
      margin:8px 0;
    }
    .task-row span { flex:1; }
    .task-row input {
      flex:1 1 100px; padding:6px;
      border:2px solid #444; border-radius:4px;
    }
    .task-row.correct input {
      border-color:lime; background:rgba(0,128,0,.2);
    }
    .task-row.wrong input {
      border-color:crimson; background:rgba(255,0,0,.2);
    }
    .reset-icon {
      background:none; border:none;
      font-size:20px; cursor:pointer;
    }

    /* Final screen */
    #page6 {
      display:flex; flex-direction:column;
      align-items:center; text-align:center;
      padding:16px;
      background:rgba(0,0,0,.6);
      border-radius:12px; box-shadow:0 0 12px rgba(0,0,0,.8);
      max-height:90vh; overflow-y:auto;
    }
    .museum-logo {
      width:60px; margin-bottom:8px;
      border:2px solid gold; padding:2px;
      border-radius:6px;
    }
    #finalPortrait img {
      width:80px; height:auto; max-height:120px;
      object-fit:cover; object-position:top center;
      border-radius:10px; border:3px solid gold;
      padding:1px;
    }
    .badges {
      display:flex; flex-wrap:wrap;
      gap:8px; margin:8px 0;
    }
    .badges img { width:40px; height:auto; }
    .downloads {
      display:flex; flex-wrap:wrap;
      gap:8px; margin:8px 0;
    }
    .downloads .btn { padding:8px; font-size:14px; }
    .note {
      font-size:12px; color:#ddd;
      margin-top:8px;
    }

    @media(max-width:400px) {
      .btn { font-size:14px; padding:8px; }
      h1 { font-size:24px; }
      h2 { font-size:20px; }
      .instruction-box { font-size:12px; }
    }
  </style>
</head>
<body>
  <!-- Audio w tle: losowy wybÃ³r spoÅ›rÃ³d dostÄ™pnych Å›cieÅ¼ek -->
  <audio id="bgMusic" muted autoplay loop></audio>

  <!-- 1. Rejestracja druÅ¼yny -->
  <div id="page1" class="screen active">
    <h1>GRODOWA ODYSEJA</h1>
    <div class="instruction-box">
      <ul>
        <li>1. Wpisz nazwÄ™ druÅ¼yny â†’ <strong>DALEJ</strong></li>
        <li>2. Przeczytaj fabuÅ‚Ä™ â†’ <strong>DALEJ</strong></li>
        <li>3. Wybierz postaÄ‡ â†’ <strong>DALEJ</strong></li>
        <li>4. Obejrzyj filmik â†’ <strong>DALEJ</strong></li>
        <li>5. Wylosuj zadanie poboczne â†’ <strong>ðŸŽ² LOSUJ</strong></li>
        <li>6. Po realizacji otrzymujesz koronÄ™ â†’ <strong>ZREALIZOWANE</strong></li>
        <li>7. Wykonaj min. 4 zadania gÅ‚Ã³wne</li>
        <li>8. Kliknij <strong>PRZEJDÅ¹ DO RADY</strong></li>
      </ul>
    </div>
    <input id="teamName" type="text" placeholder="Nazwa druÅ¼yny">
    <button class="btn" id="to2">DALEJ</button>
  </div>

  <!-- 2. FabuÅ‚a -->
  <div id="page2" class="screen">
    <h2>Rok 972 â€“ Czas PrÃ³by</h2>
    <div class="instruction-box">
      <p>Rok 972. Sopockie Grodzisko pamiÄ™ta spokÃ³j ostatniego lata â€“ lecz teraz Ziemia drÅ¼y, jakby wyczuÅ‚a nadciÄ…gajÄ…ce przesilenie.</p>
      <p>Z poÅ‚udnia dobiegajÄ… echa zwyciÄ™stwa pod CedyniÄ…: ksiÄ…Å¼Ä™ Mieszko triumfuje, Hodon pada pod mieczem Czcibora, a cesarskie spojrzenie zwraca siÄ™ ku naszym granicom.</p>
      <p>Ze wschodu pÅ‚ynie nowa mowa â€“ twarde znaki Rusi, ktÃ³re Å‚Ä…czÄ… bizantyjskie krzyÅ¼e z pradawnymi baÅ‚tyjskimi bÃ³stwami, niosÄ…c srebro i niepokÃ³j.</p>
      ... peÅ‚na fabuÅ‚a ...
      <ul>
        <li>â€“ Czy otworzyÄ‡ Grodzisko na obce mowy?</li>
        <li>â€“ Czy zamknÄ…Ä‡ bramy na sto lat?</li>
      </ul>
    </div>
    <button class="btn" id="to3">DALEJ</button>
  </div>

  <!-- 3. WybÃ³r postaci -->
  <div id="page3" class="screen">
    <h2>WYBIERZ POSTAÄ†</h2>
    <div class="roles">
      ... elementy postaci ...
    </div>
    <button class="btn" id="to4" disabled>DALEJ</button>
  </div>

  <!-- 4. Filmik inicjacyjny -->
  <div id="videoOverlay">
    <video id="roleVideo" controls></video>
    <button class="btn" id="videoNext">DALEJ DO ZADAÅƒ</button>
  </div>

  <!-- 5. Zadania -->
  <div id="page4" class="screen">
    ... zadania ...
  </div>

  <!-- 6. Rada -->
  <div id="page5" class="screen">
    ... decyzje rady ...
  </div>

  <!-- 7. Gratulacje -->
  <div id="page6" class="screen">
    <img src="logo.1.png" class="museum-logo" alt="Muzeum">
    <h1>GRATULACJE!</h1>
    <div id="finalPortrait"><img id="avatar" alt="Twoja postaÄ‡"></div>
    <div class="final-box">
      ... podsumowanie wynikÃ³w i odznaki ...
      <p class="note">ðŸ”± Korona losowego zadania przyznawana po realizacji!</p>
    </div>
    <button class="btn" id="restartBtn">ZAGRAJ PONOWNIE</button>
  </div>

  <script>
    // Logika dziaÅ‚ania aplikacji (pokazywanie ekranÃ³w, losowanie muzyki, obsÅ‚uga zadaÅ„, etc.)
  </script>
</body>
</html>
