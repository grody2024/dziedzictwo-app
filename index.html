<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dziedzictwo ≈ªelaza ‚Äì Gra Miejska</title>
  <link href="https://fonts.googleapis.com/css2?family=Uncial+Antiqua&display=swap" rel="stylesheet">
  <style>
    body { font-family:'Uncial Antiqua', serif; margin:0; padding:0; background: url('t≈Ço.png') no-repeat center center fixed; background-size: cover; color:#f8f1d9; }
    .container { max-width:960px; margin:0 auto; padding:20px; background:rgba(0,0,0,0.7); }
    h1,h2,h3 { text-align:center; color:#ffe680; margin:10px 0; }
    .hidden { display:none; }
    input, button { display:block; width:200px; margin:10px auto; padding:10px; background:#a6763c; color:#1a1a1a; border:none; border-radius:5px; font-family:'Uncial Antiqua'; cursor:pointer; }
    button:hover { background:#d9a066; }
    #avatars { display:flex; flex-wrap:wrap; justify-content:space-around; }
    .avatar { text-align:center; margin:10px; }
    .avatar img { width:100px; height:100px; border:3px solid #ffe680; border-radius:50%; transition:0.3s; }
    .avatar:hover img { transform:scale(1.1); }
    #map-section { position:relative; margin:20px 0; }
    #game-map-embed { width:100%; height:400px; border:none; }
    .point-btn { position:absolute; width:30px; height:30px; background:rgba(255,204,102,0.8); border:none; border-radius:50%; cursor:pointer; }
    #role-info { background:rgba(61,33,10,0.9); padding:15px; border-radius:8px; margin:10px auto; max-width:600px; }
    #role-info img { width:120px; height:120px; border-radius:50%; display:block; margin:0 auto 10px; }
    #instructions { background:rgba(32,32,32,0.9); padding:15px; border-radius:8px; margin:20px auto; max-width:800px; }
    #instructions ul { list-style: none; padding-left:0; }
    #instructions li { margin:8px 0; }
    #final-screen img { display:block; margin:20px auto; max-width:80%; border:4px solid #ffe680; }
  </style>
</head>
<body>
  <div class="container">
    <h1>üõ°Ô∏è Gra terenowa RPG: Dziedzictwo ≈ªelaza</h1>
    <div id="instructions">
      <h2>üîç Proces rejestracji i rozgrywki</h2>
      <ul>
        <li><strong>1. Rejestracja dru≈ºyny:</strong> Wpisz nazwƒô (3‚Äì6 os√≥b, do 50 dru≈ºyn). Unikaj danych osobowych.</li>
        <li><strong>2. Wstƒôp fabularny:</strong> Poznaj rok 972 ‚Äì wyzwania Grodu, historia i kontekst.</li>
        <li><strong>3. Wyb√≥r postaci:</strong> Zwiadowca, Tkaczka, Zielarka, Kupiec, Rzemie≈õlnik, Starszy.</li>
        <li><strong>4. Zadania poboczne:</strong> Ka≈ºdy losuje: ukryty symbol, fragment mapy, runiczne wiadomo≈õci, test spostrzegawczo≈õci, r√≥wnowaga w grupie.</li>
        <li><strong>5. Punkty gry:</strong> Odwied≈∫ min. 4 z 6 modu≈Ç√≥w ‚Äì Obrona, Kowal, Zagroda, Tkaczka, Zielarka, Kamie≈Ñ Decyzji.</li>
        <li><strong>6. Panel postƒôp√≥w:</strong> Sprawdzaj uko≈Ñczone zadania i misjƒô pobocznƒÖ.</li>
        <li><strong>7. Rada Grodu:</strong> Po zdobyciu min. 4 fragment√≥w ‚Äì decyzja ko≈Ñcowa (handel, granice, prawo) wpisana do Ksiƒôgi.</li>
        <li><strong>8. Zako≈Ñczenie:</strong> Podsumowanie punkt√≥w, tytu≈Çy (Uczestnik, Stra≈ºnik, medalion) i wpisy do Ksiƒôgi Starszyzny.</li>
      </ul>
    </div>
    <div id="start">
      <input id="team-name" placeholder="Nazwa dru≈ºyny">
      <h3>Wybierz postaƒá:</h3>
      <div id="avatars"></div>
      <button onclick="startGame()">Rozpocznij grƒô</button>
    </div>

    <div id="game" class="hidden">
      <h2>Dru≈ºyna: <span id="team-name-display"></span></h2>
      <h3 id="character"></h3>
      <button onclick="showRole()">Poka≈º opis postaci</button>
      <div id="role-info" class="hidden">
        <img src="" alt="Avatar">
        <h3></h3>
        <p></p>
      </div>
      <p><strong>üéØ Misja poboczna:</strong> <span id="mission"></span></p>
      <div id="map-section">
        <iframe id="game-map-embed" src="https://www.canva.com/design/DAGlcv4Ci6s/rPm9T0Iq0b5sfLtdPEamyA/view?embed" allowfullscreen></iframe>
        <button id="btn1" class="point-btn" onclick="completePoint(this)"></button>
        <button id="btn2" class="point-btn" onclick="completePoint(this)"></button>
        <button id="btn3" class="point-btn" onclick="completePoint(this)"></button>
        <button id="btn4" class="point-btn" onclick="completePoint(this)"></button>
        <button id="btn5" class="point-btn" onclick="completePoint(this)"></button>
        <button id="btn6" class="point-btn" onclick="completePoint(this)"></button>
      </div>
      <button id="finish-btn" onclick="endGame()" disabled>Zako≈Ñcz i podsumuj</button>
    </div>

    <div id="final-screen" class="hidden">
      <h2>üìú Zako≈Ñczenie gry</h2>
      <p>Gratulacje! Tw√≥j wynik: <strong><span id="score"></span>/6</strong> punkt√≥w.</p>
      <p>Na znak uko≈Ñczenia Pr√≥by Dziedzictwa ≈ªelaza otrzymujesz:</p>
      <img src="certyfikat1.png" alt="Medalion i certyfikat">
      <p>Dziƒôkujemy za udzia≈Ç i wk≈Çad w przysz≈Ço≈õƒá Grodu!</p>
    </div>
  </div>

  <audio id="audio" loop>
    <source src="celtic-legends-307629.mp3" type="audio/mp3">
  </audio>

  <script>
    const roles=[
      {id:'zwiadowca',name:'Zwiadowca',desc:'Zwiadowca to odwa≈ºny wƒôdrowiec, kt√≥ry nie boi siƒô stawiaƒá krok√≥w tam, gdzie inni nie odwa≈ºyliby siƒô zajrzeƒá. To on pierwszy przekracza granice nieznanych teren√≥w... ',img:'zwiadowca.png'},
      {id:'tkaczka',name:'Tkaczka',desc:'Tkaczka to mistrzyni w tworzeniu i rozumieniu wzor√≥w oraz symboli, kt√≥re dla innych sƒÖ jedynie chaotycznym zbiorem znak√≥w... ',img:'tkaczka.png'},
      {id:'zielarka',name:'Zielarka',desc:'Zielarka to kobieta, kt√≥ra zna ka≈ºdy zakƒÖtek lasu, ka≈ºdƒÖ ro≈õlinƒô, ka≈ºdy zio≈Çowy sekret... ',img:'zielarka (2).png'},
      {id:'kupiec',name:'Kupiec',desc:'Kupiec to osoba, kt√≥ra nie tylko doskonale rozumie warto≈õƒá rzeczy, ale ma tak≈ºe dar wyczuwania niuans√≥w w rozmowach... ',img:'kupiec.png'},
      {id:'rzemieslnik',name:'Rzemie≈õlnik',desc:'Rzemie≈õlnik to mistrz techniki i precyzji, kt√≥ry zna siƒô na ka≈ºdym narzƒôdziu, materia≈Çach i metodach pracy. Jego rƒôce sƒÖ pe≈Çne talentu i pomys≈Ç√≥w, a jego umiejƒôtno≈õci pozwalajƒÖ na rozwiƒÖzywanie nawet najbardziej skomplikowanych problem√≥w technicznych. Z jego pomocƒÖ ≈ºadne zadanie nie jest niemo≈ºliwe do wykonania ‚Äì naprawi, skonstruuje i stworzy rozwiƒÖzania, kt√≥re wydajƒÖ siƒô niewykonalne. Rzemie≈õlnik zna siƒô na wszelkich materia≈Çach, od drewna po metal, i jest niezastƒÖpiony, gdy w grupie pojawiajƒÖ siƒô trudno≈õci techniczne, kt√≥re trzeba natychmiastowo rozwiƒÖzaƒá. Jego umiejƒôtno≈õci sprawiajƒÖ, ≈ºe ka≈ºda sytuacja staje siƒô bardziej zno≈õna, a ka≈ºdy problem ma swoje rozwiƒÖzanie.',img:'rzemieslnik.png'},
      {id:'starszy',name:'Starszy',desc:'Starszy to lider, kt√≥ry podejmuje decyzje ko≈Ñcowe, biorƒÖc na siebie odpowiedzialno≈õƒá za dobro ca≈Çej grupy... ',img:'starszy.png'}
    ];
    const missions=['üì∏ Zdjƒôcie z 4 kolorami','üî† S≈Çowo z symboli','üë£ ≈ölady przodk√≥w','üåÄ Wz√≥r liniowy','ü™µ 5 materia≈Ç√≥w','‚åõ Stara historia','üî¢ Cicha sekwencja','üåø Tr√≥jkƒÖt natury','üî† Akrostych','üó£Ô∏è Jedno s≈Çowo'];
    let completed=0;
    window.onload=() => {
      const av=document.getElementById('avatars');
      roles.forEach(r=>{const d=document.createElement('div');d.className='avatar';d.innerHTML=`<img src="${r.img}"><br><input type="radio" name="role" value="${r.id}"> ${r.name}`;av.appendChild(d);});
    };
    function startGame(){const n=document.getElementById('team-name').value.trim();if(!n) return alert('Wpisz nazwƒô dru≈ºyny');const s=document.querySelector('input[name=role]:checked');if(!s) return alert('Wybierz postaƒá');const r=roles.find(x=>x.id===s.value);document.getElementById('start').classList.add('hidden');document.getElementById('team-name-display').innerText=n;document.getElementById('character').innerText=r.name;document.getElementById('mission').innerText=missions[Math.floor(Math.random()*missions.length)];document.getElementById('game').classList.remove('hidden');document.getElementById('audio').play();}
    function showRole(){const rn=document.getElementById('character').innerText;const r=roles.find(x=>x.name===rn);const i=document.getElementById('role-info');i.querySelector('h3').innerText=r.name;i.querySelector('img').src=r.img;i.querySelector('p').innerText=r.desc;i.classList.remove('hidden');}
    function completePoint(b){if(b.disabled)return;b.disabled=true;b.style.background='rgba(153,255,153,0.9)';completed++;if(completed>=4) document.getElementById('finish-btn').disabled=false;}
    function endGame(){document.getElementById('game').classList.add('hidden');document.getElementById('score').innerText=completed;document.getElementById('final-screen').classList.remove('hidden');}
  </script>
</body>
</html>
